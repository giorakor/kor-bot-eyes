(this["webpackJsonpreact-eyes"]=this["webpackJsonpreact-eyes"]||[]).push([[0],[,,,,,,function(e,t,n){e.exports=n.p+"static/media/eye-white.c2473cdf.png"},function(e,t,n){e.exports=n.p+"static/media/pupil.b4bc4c15.png"},function(e,t,n){e.exports=n(17)},,,,,function(e,t,n){},,,function(e,t,n){},function(e,t,n){"use strict";n.r(t);var o,a,r,i=n(0),c=n.n(i),l=n(5),s=n.n(l),u=(n(13),n(2)),f={px:function(e){return"".concat(e,"px")},constrain:function(e,t,n){return e<=t?t:e>=n?n:e}},m=f,h=function(e){switch(e){case"NORMAL":return{controls:[.7,.3,.3,-.1,.6,.9,.25,.9,0,.5,0,.5,0,.5],squint:0,elevation:10,shakeSpeed:1};case"BLINK":return{controls:[.75,.85,.25,.85,.75,.9,.25,.9,0,.5,0,.5],squint:20,elevation:null,shakeSpeed:1};case"SNAKE":return{controls:[.5,.6,.3,.6,.58,.8,.25,.9,0,.5,0,.5],squint:-20,elevation:-80,shakeSpeed:1};case"MAD":return{controls:[.71,0,.3,.7,.58,.8,.25,.9,0,.5,0,.5],squint:40,elevation:-50,shakeSpeed:1};case"WORRIED":return{controls:[.59,.6,.3,-.4,.58,.7,.25,.7,0,.5,0,.5],squint:50,elevation:60,shakeSpeed:5};case"SHOCK":return{controls:[.75,-.3,.25,-.3,.75,1,.25,1,0,.5,0,.5],squint:0,elevation:40,shakeSpeed:1};default:return{controls:[.7,.3,.3,-.1,.6,.9,.25,.9,0,.5,0,.5,0,.5],squint:20,elevation:10,shakeSpeed:1}}},y=n(3),p=n.n(y),d=function(){return[o,a]},E=function(e,t){Object(i.useEffect)((function(){var t=requestAnimationFrame((function t(){requestAnimationFrame(t);var n=d(),o=Object(u.a)(n,1)[0];e(o)}));return function(){cancelAnimationFrame(t)}}),t)},v=n(1),g="NORMAL",b="LOOK_TO",O="MOVE_PUPIL",x="SET_RANDOM_AMOUNT",k="SET_MODE",M="BLINK",P="STOP_BLINK",C="SET_CONTROLS",w=function(e){return r||(r={nomral:function(){e({type:g})},lookTo:function(t){e({type:b,pos:t})},movePupil:function(t){e({type:O,amount:t})},setRandomAmount:function(t){e({type:x,amount:t})},setMode:function(t,n){e({type:k,mode:t,transTime:n})},blink:function(t,n){e({type:M,mode:t,transTime:n})},stopBlink:function(t){e({type:P,transTime:t})},setControls:function(t,n,o){e(n?{type:C,rightEyeControls:t,transTime:o}:{type:C,leftEyeControls:t,transTime:o})}})},A=function(e,t){switch(t.type){case b:var n={x:e.eyeWidth/2+t.pos.x,y:e.eyeHeight/2+t.pos.y};return Object(v.a)({},e,{leftPupilPos:n,rightPupilPos:n});case O:return Object(v.a)({},e,{leftPupilPos:{x:e.leftPupilPos.x+t.amount.x,y:e.leftPupilPos.y+t.amount.y},rightPupilPos:{x:e.rightPupilPos.x+t.amount.x,y:e.rightPupilPos.y+t.amount.y}});case x:return Object(v.a)({},e,{randomMoveAmount:t.amount});case k:return Object(v.a)({},e,{rightEyeMode:t.mode,leftEyeMode:t.mode,transTime:t.transTime});case M:return e.blinking?e:Object(v.a)({},e,{rightEyeMode:t.mode,leftEyeMode:t.mode,transTime:t.transTime,beforeBlink:e.leftEyeMode,blinking:!0});case P:return Object(v.a)({},e,{rightEyeMode:e.beforeBlink,leftEyeMode:e.beforeBlink,transTime:t.transTime,blinking:!1});case C:return Object(v.a)({},e,{leftEyeControls:t.leftEyeControls?t.leftEyeControls:e.leftEyeControls,rightEyeControls:t.rightEyeControls?t.rightEyeControls:e.rightEyeControls,transTime:t.transTime});default:return e}},T=c.a.createContext({}),j=n(6),I=n.n(j),N=function(e){var t=Object(i.useContext)(T),n=t.eyeWidth,o=t.eyeHeight;return c.a.createElement("div",{className:"eyewhite"},c.a.createElement("img",{src:I.a,width:n,height:o}))},R=function(e,t,n,o){return"C ".concat(e," ").concat(t," , ").concat(n," ").concat(o)},S=parseInt(1/24*1e3),L=function(e){var t=d(),n=Object(u.a)(t,2),o=(n[0],n[1]),a=Object(i.useContext)(T),r=w(o),l=e.mode,s=e.type,f=a.eyeWidth,m=a.eyeHeight,y=a.rightPupilPos,E=a.leftPupilPos,v=a.leftEyeControls,g=a.rightEyeControls,b=a.randomMoveAmount,O=a.transTime,x=a.blinking,k="R"===s,M=k?y:E,P=k?v:g,C=[f/2,m/2];Object(i.useEffect)((function(){r.setControls(h(l).controls,k)}),[]),Object(i.useEffect)((function(){var e=h(l).controls.map((function(e,t){var n=t>7?8e-7:1e-6,o=Object.keys(M)[t%2],a=M[o]+b[o]-C[t%2];return e-("x"===o?f:m)*(k&&"x"===o?1:-1)*n*a})),t=p.a.map(e,(function(e,t){return(e-P[t])/(24*O)})),n=0,o=setInterval((function(){if((n+=1)>=24*O)return clearInterval(o),x&&r.stopBlink(.3),r.setControls(e,k,O-S/1e3);var a=t.map((function(e,t){return P[t]+n*e}));return r.setControls(a,k,O-S/1e3),a}),S);return function(){clearInterval(o)}}),[l,M,b]);var A=m/2,j=k?"scale(-1, 1) translate(-".concat(f,", 0)"):"";return c.a.createElement("svg",{style:{zIndex:100},className:"spline absolute blur",width:f,height:m},c.a.createElement("path",{d:"\n          M ".concat(0," ",0,"\n          H ").concat(f,"\n          V ").concat(A,"\n          ").concat(R(f*P[0],m*P[1],f*P[2],m*P[3]),"\n          , ").concat(f*P[8]," ").concat(m*P[9],"\n          H ").concat(-f,"\n        "),transform:j,stroke:"black",fill:"black"}),c.a.createElement("path",{d:"\n          M ".concat(0," ").concat(m,"\n          H ").concat(f,"\n          V ").concat(A,"\n          ").concat(R(f*P[4],m*P[5],f*P[6],m*P[7]),"\n          , ").concat(f*P[10]," ").concat(m*P[11],"\n          H ").concat(-f,"\n        "),transform:j,stroke:"black",fill:"black"}))},H=n(7),q=n.n(H),B=function(e){var t=Object(i.useContext)(T),n=e.pos,o=e.squint,a=e.elevation,r=1.35*t.eyeWidth,l=1*t.eyeHeight,s={left:-r/2,top:-l/2},u={left:m.px(n.x+t.randomMoveAmount.x+o),top:m.px(n.y+t.randomMoveAmount.y-a)};return c.a.createElement("div",{className:"pupil",style:u},c.a.createElement("img",{className:"absolute",style:s,src:q.a,width:r,height:l}))},W=function(e){var t=Object(i.useContext)(T),n=e.pos,o=e.type,a="R"===o,r=t.rightPupilPos,l=t.leftPupilPos,s=t.leftEyeMode,u=t.rightEyeMode,f=t.beforeBlink,y=t.blinking,p={left:m.px(n.x),top:m.px(n.y)},d=a?u:s,E=h(y?f:d),v=E.squint,g=E.elevation,b=h(t.beforeBlink);return c.a.createElement("div",{className:"eye",style:p},c.a.createElement(N,null),c.a.createElement(B,{squint:a?v:-v,pos:a?r:l,elevation:t.blinking?b.elevation:g}),c.a.createElement(L,{type:o,mode:d}))},K=window.require("electron").ipcRenderer,D={screenWidth:1280,screenHeight:800,eyesDistance:70,eyeWidth:550,eyeHeight:500,eyesY:100,rightPupilPos:{x:0,y:0},leftPupilPos:{x:0,y:0},randomMoveAmount:{x:0,y:0},rightEyeMode:"NORMAL",leftEyeMode:"NORMAL",leftEyeControls:h("NORMAL").controls,rightEyeControls:h("NORMAL").controls,transTime:.5},_=["SNAKE","SHOCK","NORMAL","WORRIED","MAD"],F=function(e){var t,n,r=Object(i.useState)(D),l=Object(u.a)(r,2),s=l[0],f=l[1],h=(t=A,n=D,o||(o=n,a=function(e){o=t(o,e)}),[o,a]),y=Object(u.a)(h,2),p=(y[0],y[1]),d=w(p),v=s.screenWidth,g=s.screenHeight,b=s.eyesDistance,O=s.eyeWidth,x=s.eyeHeight,k=s.eyesY,M={width:m.px(v),height:m.px(g),overflow:"hidden"},P={x:v/2-O-b/2,y:k},C={x:v/2+b/2,y:k};return E(f,[]),Object(i.useEffect)((function(){return d.lookTo({x:0,y:0}),K.on("data",(function(e,t){var n=t.pitch,o=t.yaw,a=m.constrain(20*n,-50,50),r=m.constrain(-1*o*2,-100,100);d.lookTo({x:r,y:a})})),function(){K.removeAllListeners()}}),[]),Object(i.useEffect)((function(){var e=setInterval((function(){Math.random()>.3&&d.setRandomAmount({x:parseInt(60*Math.random())-30,y:parseInt(20*Math.random())-10})}),700),t=setInterval((function(){10*Math.random()>8&&d.blink("BLINK",.15)}),800),n=setInterval((function(){var e=_[Math.floor(_.length*Math.random())];d.setMode(e,.3)}),2500);return function(){clearInterval(e),clearInterval(t),clearInterval(n)}}),[s.leftEyeMode]),c.a.createElement("div",Object.assign({},e,{style:M}),c.a.createElement(T.Provider,{value:s},c.a.createElement(W,{type:"R",pos:P}),c.a.createElement(W,{type:"L",pos:C})),c.a.createElement("svg",{style:{zIndex:100,position:"fixed",left:0,top:0},width:v,height:g},c.a.createElement("rect",{x:(v-b)/2,width:b+1,height:g,fill:"black"}),c.a.createElement("rect",{width:v,height:k,fill:"black"}),c.a.createElement("rect",{width:(v-b)/2-O+1,height:g,fill:"black"}),c.a.createElement("rect",{x:(v+b)/2+O,width:(v-b)/2-O,height:g,fill:"black"}),c.a.createElement("rect",{y:k+x,width:v,height:g-k-x,fill:"black"})))};c.a.createContext({}),n(16);var V=function(){return c.a.createElement(F,{className:"App"})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(V,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[8,1,2]]]);
//# sourceMappingURL=main.f716f886.chunk.js.map