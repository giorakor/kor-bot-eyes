(this["webpackJsonpreact-eyes"]=this["webpackJsonpreact-eyes"]||[]).push([[0],[,,,,,function(e,t,n){e.exports=n.p+"static/media/eye-white.88260679.png"},,function(e,t,n){e.exports=n.p+"static/media/pupil.e1eb0a28.png"},function(e,t,n){e.exports=n(17)},,,,,function(e,t,n){},,,function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(4),c=n.n(r),i=(n(13),n(1)),s={px:function(e){return"".concat(e,"px")},constrain:function(e,t,n){return e<=t?t:e>=n?n:e}},l=s,u=function(e){switch(e){case"NORMAL":return{controls:[.7,.3,.3,-.1,.6,.9,.25,.9,0,.5,0,.5,0,.5],squint:0,elevation:10,shakeSpeed:1};case"BLINK":return{controls:[.75,.85,.25,.85,.75,.9,.25,.9,0,.5,0,.5],squint:20,elevation:null,shakeSpeed:1};case"SNAKE":return{controls:[.5,.6,.3,.6,.58,.8,.25,.9,0,.5,0,.5],squint:-20,elevation:-80,shakeSpeed:1};case"MAD":return{controls:[.71,0,.3,.7,.58,.8,.25,.9,0,.5,0,.5],squint:40,elevation:-50,shakeSpeed:1};case"WORRIED":return{controls:[.59,.6,.3,-.4,.58,.7,.25,.7,0,.5,0,.5],squint:50,elevation:60,shakeSpeed:5};case"SHOCK":return{controls:[.75,-.3,.25,-.3,.75,1,.25,1,0,.5,0,.5],squint:0,elevation:40,shakeSpeed:1};default:return{controls:[.7,.3,.3,-.1,.6,.9,.25,.9,0,.5,0,.5,0,.5],squint:20,elevation:10,shakeSpeed:1}}},p=n(2),m="NORMAL",d="LOOK_TO",f="MOVE_PUPIL",y="SET_RANDOM_AMOUNT",h="SET_MODE",v="BLINK",b="STOP_BLINK",E=function(e){return{nomral:function(){e({type:m})},lookTo:function(t){e({type:d,pos:t})},movePupil:function(t){e({type:f,amount:t})},setRandomAmount:function(t){e({type:y,amount:t})},setMode:function(t,n){e({type:h,mode:t,transTime:n})},blink:function(t,n){e({type:v,mode:t,transTime:n})},stopBlink:function(){e({type:b})}}},g=function(e,t){switch(t.type){case d:var n={x:e.eyeWidth/2+t.pos.x,y:e.eyeHeight/2+t.pos.y};return Object(p.a)({},e,{leftPupilPos:n,rightPupilPos:n});case f:return Object(p.a)({},e,{leftPupilPos:{x:e.leftPupilPos.x+t.amount.x,y:e.leftPupilPos.y+t.amount.y},rightPupilPos:{x:e.rightPupilPos.x+t.amount.x,y:e.rightPupilPos.y+t.amount.y}});case y:return Object(p.a)({},e,{randomMoveAmount:t.amount});case h:return Object(p.a)({},e,{rightEyeMode:t.mode,leftEyeMode:t.mode,transTime:t.transTime});case v:return Object(p.a)({},e,{rightEyeMode:t.mode,leftEyeMode:t.mode,transTime:t.transTime,beforeBlink:e.leftEyeMode,blinking:!0});case b:return Object(p.a)({},e,{rightEyeMode:e.beforeBlink,leftEyeMode:e.beforeBlink,blinking:!1});default:return e}},x=o.a.createContext({}),O=n(5),k=n.n(O),M=function(e){var t=Object(a.useContext)(x),n=Object(i.a)(t,2),r=n[0],c=(n[1],r.eyeWidth),s=r.eyeHeight;return o.a.createElement("div",{className:"eyewhite"},o.a.createElement("img",{src:k.a,width:c,height:s}))},P=n(6),j=n.n(P),w=function(e,t,n,a){return"C ".concat(e," ").concat(t," , ").concat(n," ").concat(a)},I=parseInt(1/24*1e3),A=function(e){var t=Object(a.useContext)(x),n=Object(i.a)(t,2),r=n[0],c=n[1],s=E(c),l=e.mode,p=e.type,m=r.eyeWidth,d=r.eyeHeight,f=r.rightPupilPos,y=r.leftPupilPos,h=r.randomMoveAmount,v=r.transTime,b=(r.blinking,"R"===p),g=b?f:y,O=[m/2,d/2],k=Object(a.useState)(u(l).controls),M=Object(i.a)(k,2),P=M[0],A=M[1];Object(a.useEffect)((function(){var e=u(l).controls.map((function(e,t){var n=t>7?8e-7:1e-6,a=Object.keys(g)[t%2],o=g[a]+h[a]-O[t%2];return e-("x"===a?m:d)*(b&&"x"===a?1:-1)*n*o})),t=j.a.map(e,(function(e,t){return(e-P[t])/(24*v)})),n=0,a=setInterval((function(){n+=1,A((function(){return n>=24*v?(clearInterval(a),r.blinking&&s.stopBlink(),e):t.map((function(e,t){return P[t]+n*e}))}))}),I);return function(){clearInterval(a)}}),[l,g,h]);var N=d/2,T=b?"scale(-1, 1) translate(-".concat(m,", 0)"):"";return o.a.createElement("svg",{className:"spline absolute blur",width:m,height:d},o.a.createElement("path",{d:"\n          M ".concat(0," ",0,"\n          H ").concat(m,"\n          V ").concat(N,"\n          ").concat(w(m*P[0],d*P[1],m*P[2],d*P[3]),"\n          , ").concat(m*P[8]," ").concat(d*P[9],"\n          H ").concat(-m,"\n        "),transform:T,stroke:"black",fill:"black"}),o.a.createElement("path",{d:"\n          M ".concat(0," ").concat(d,"\n          H ").concat(m,"\n          V ").concat(N,"\n          ").concat(w(m*P[4],d*P[5],m*P[6],d*P[7]),"\n          , ").concat(m*P[10]," ").concat(d*P[11],"\n          H ").concat(-m,"\n        "),transform:T,stroke:"black",fill:"black"}),o.a.createElement("filter",{id:"dropshadow",x:"-2",y:"-2",width:m,height:d},o.a.createElement("feGaussianBlur",{stdDeviation:"1"})))},N=n(7),T=n.n(N),S=function(e){var t=Object(a.useContext)(x),n=Object(i.a)(t,2),r=n[0],c=(n[1],e.pos),s=e.squint,u=e.elevation,p={left:-112.5,top:-112.5},m={left:l.px(c.x+r.randomMoveAmount.x+s),top:l.px(c.y+r.randomMoveAmount.y-u)};return o.a.createElement("div",{className:"pupil",style:m},o.a.createElement("img",{className:"absolute",style:p,src:T.a,width:225,height:225}))},R=function(e){var t=Object(a.useContext)(x),n=Object(i.a)(t,2),r=n[0],c=(n[1],e.pos),s=e.type,p="R"===s,m=r.rightPupilPos,d=r.leftPupilPos,f=r.leftEyeMode,y=r.rightEyeMode,h={left:l.px(c.x),top:l.px(c.y)},v=p?y:f,b=u(v),E=b.squint,g=b.elevation,O=u(r.beforeBlink);return o.a.createElement("div",{className:"eye",style:h},o.a.createElement(M,null),o.a.createElement(S,{squint:p?E:-E,pos:p?m:d,elevation:r.blinking?O.elevation:g}),o.a.createElement(A,{type:s,mode:v}))},B=window.require("electron").ipcRenderer,L={screenWidth:1280,screenHeight:800,eyesDistance:70,eyeWidth:550,eyeHeight:500,eyesY:100,rightPupilPos:{x:0,y:0},leftPupilPos:{x:0,y:0},randomMoveAmount:{x:0,y:0},rightEyeMode:"NORMAL",leftEyeMode:"NORMAL",transTime:.5},q=function(e){var t=Object(a.useReducer)(g,L),n=Object(i.a)(t,2),r=n[0],c=n[1],s=E(c),p=r.screenWidth,m=r.screenHeight,d=r.eyesDistance,f=r.eyeWidth,y=r.eyesY,h={width:l.px(p),height:l.px(m)},v={x:p/2-f-d/2,y:y},b={x:p/2+d/2,y:y},O=0;Object(a.useEffect)((function(){return s.lookTo({x:0,y:0}),B.on("data",(function(e,t){var n=t.pitch,a=t.yaw;O=.9*O+(1-.9)*a;var o=l.constrain(10*n,-50,50),r=l.constrain(10*(a-O),-100,100);s.lookTo({x:r,y:o})})),function(){B.removeAllListeners()}}),[]);var k=u(r.leftEyeMode).shakeSpeed;return Object(a.useEffect)((function(){var e=setInterval((function(){Math.random()>.3&&s.setRandomAmount({x:parseInt(70*Math.random())-35,y:parseInt(20*Math.random())-10})}),700/k),t=setInterval((function(){10*Math.random()>8&&s.blink("BLINK",.15)}),800),n=setInterval((function(){}),2500);return function(){clearInterval(e),clearInterval(t),clearInterval(n)}}),[r.leftEyeMode]),o.a.createElement("div",Object.assign({},e,{style:h}),o.a.createElement(x.Provider,{value:[r,c]},o.a.createElement(R,{type:"R",pos:v}),o.a.createElement(R,{type:"L",pos:b})))};n(16);var H=function(){return o.a.createElement(q,{className:"App"})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(H,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[8,1,2]]]);
//# sourceMappingURL=main.2916afd6.chunk.js.map